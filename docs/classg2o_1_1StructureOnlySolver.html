<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>g2o: g2o::StructureOnlySolver&lt; PointDoF &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">g2o
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceg2o.html">g2o</a></li><li class="navelem"><a class="el" href="classg2o_1_1StructureOnlySolver.html">StructureOnlySolver</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classg2o_1_1StructureOnlySolver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">g2o::StructureOnlySolver&lt; PointDoF &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is a solver for "structure-only" optimization".  
 <a href="classg2o_1_1StructureOnlySolver.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="structure__only__solver_8h_source.html">structure_only_solver.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for g2o::StructureOnlySolver&lt; PointDoF &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classg2o_1_1StructureOnlySolver__inherit__graph.png" border="0" usemap="#g2o_1_1StructureOnlySolver_3_01PointDoF_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="g2o_1_1StructureOnlySolver_3_01PointDoF_01_4_inherit__map" id="g2o_1_1StructureOnlySolver_3_01PointDoF_01_4_inherit__map">
<area shape="rect" id="node2" href="classg2o_1_1OptimizationAlgorithm.html" title="Generic interface for a non&#45;linear solver operating on a graph. " alt="" coords="5,5,184,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for g2o::StructureOnlySolver&lt; PointDoF &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classg2o_1_1StructureOnlySolver__coll__graph.png" border="0" usemap="#g2o_1_1StructureOnlySolver_3_01PointDoF_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="g2o_1_1StructureOnlySolver_3_01PointDoF_01_4_coll__map" id="g2o_1_1StructureOnlySolver_3_01PointDoF_01_4_coll__map">
<area shape="rect" id="node2" href="classg2o_1_1OptimizationAlgorithm.html" title="Generic interface for a non&#45;linear solver operating on a graph. " alt="" coords="413,185,591,212"/>
<area shape="rect" id="node5" href="classg2o_1_1SparseOptimizer.html" title="g2o::SparseOptimizer" alt="" coords="313,282,461,309"/>
<area shape="rect" id="node3" href="classg2o_1_1PropertyMap.html" title="a collection of properties mapping from name to the property itself " alt="" coords="546,96,671,123"/>
<area shape="rect" id="node6" href="structg2o_1_1OptimizableGraph.html" title="g2o::OptimizableGraph" alt="" coords="217,185,371,212"/>
<area shape="rect" id="node7" href="classg2o_1_1HyperGraph.html" title="g2o::HyperGraph" alt="" coords="5,96,127,123"/>
<area shape="rect" id="node8" href="classg2o_1_1JacobianWorkspace.html" title="provide memory workspace for computing the Jacobians " alt="" coords="151,96,320,123"/>
<area shape="rect" id="node9" href="classg2o_1_1ParameterContainer.html" title="map id to parameters " alt="" coords="344,96,511,123"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9a04e377a4604077e6c0fc77835f56ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1StructureOnlySolver.html#a9a04e377a4604077e6c0fc77835f56ab">StructureOnlySolver</a> ()</td></tr>
<tr class="separator:a9a04e377a4604077e6c0fc77835f56ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4528f715dffa2f6e5ca399ccc6ebf5a9"><td class="memItemLeft" align="right" valign="top">virtual OptimizationAlgorithm::SolverResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1StructureOnlySolver.html#a4528f715dffa2f6e5ca399ccc6ebf5a9">solve</a> (int iteration, bool online=false)</td></tr>
<tr class="separator:a4528f715dffa2f6e5ca399ccc6ebf5a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bdda1a5fa2908b08796ac9dc86f2263"><td class="memItemLeft" align="right" valign="top">OptimizationAlgorithm::SolverResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1StructureOnlySolver.html#a2bdda1a5fa2908b08796ac9dc86f2263">calc</a> (<a class="el" href="structg2o_1_1OptimizableGraph.html#a54f01b9b6071e65e6abeebe4afb29dec">OptimizableGraph::VertexContainer</a> &amp;<a class="el" href="g2o__interactive_2protocol_8txt.html#a7194e46382dcf196c489c13d1be8288f">vertices</a>, int num_iters, int num_max_trials=10)</td></tr>
<tr class="separator:a2bdda1a5fa2908b08796ac9dc86f2263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01a36cd184ecff673ea9b3486a4e785b"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1StructureOnlySolver.html#a01a36cd184ecff673ea9b3486a4e785b">init</a> (bool)</td></tr>
<tr class="separator:a01a36cd184ecff673ea9b3486a4e785b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2fc0359dbf70dfe7afe0f343b2b39ed"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1StructureOnlySolver.html#af2fc0359dbf70dfe7afe0f343b2b39ed">computeMarginals</a> (<a class="el" href="classg2o_1_1SparseBlockMatrix.html">SparseBlockMatrix</a>&lt; <a class="el" href="namespaceg2o.html#a8a808fe01b0b4e0afe637fe680853d0a">MatrixXD</a> &gt; &amp;, const std::vector&lt; std::pair&lt; int, int &gt; &gt; &amp;)</td></tr>
<tr class="separator:af2fc0359dbf70dfe7afe0f343b2b39ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a9a813d3c7dd9f07862df31aecaeeca"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1StructureOnlySolver.html#a6a9a813d3c7dd9f07862df31aecaeeca">updateStructure</a> (const std::vector&lt; <a class="el" href="classg2o_1_1HyperGraph_1_1Vertex.html">HyperGraph::Vertex</a> * &gt; &amp;, const <a class="el" href="classg2o_1_1HyperGraph.html#a5e2970e236c0dcb4eff7c205d7b6b4ae">HyperGraph::EdgeSet</a> &amp;)</td></tr>
<tr class="separator:a6a9a813d3c7dd9f07862df31aecaeeca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06b8b14c10df2396de9ee0bc8b44814e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structg2o_1_1OptimizableGraph.html#a54f01b9b6071e65e6abeebe4afb29dec">OptimizableGraph::VertexContainer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1StructureOnlySolver.html#a06b8b14c10df2396de9ee0bc8b44814e">points</a> ()</td></tr>
<tr class="memdesc:a06b8b14c10df2396de9ee0bc8b44814e"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the points of the optimization problem  <a href="#a06b8b14c10df2396de9ee0bc8b44814e">More...</a><br /></td></tr>
<tr class="separator:a06b8b14c10df2396de9ee0bc8b44814e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadd3cfd56b6f6cf8ab54500a84dc395a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structg2o_1_1OptimizableGraph.html#a54f01b9b6071e65e6abeebe4afb29dec">OptimizableGraph::VertexContainer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1StructureOnlySolver.html#aadd3cfd56b6f6cf8ab54500a84dc395a">points</a> () const </td></tr>
<tr class="separator:aadd3cfd56b6f6cf8ab54500a84dc395a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classg2o_1_1OptimizationAlgorithm"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classg2o_1_1OptimizationAlgorithm')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classg2o_1_1OptimizationAlgorithm.html">g2o::OptimizationAlgorithm</a></td></tr>
<tr class="memitem:a205013e0425b7bbae01cd16caf500ebb inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1OptimizationAlgorithm.html#a205013e0425b7bbae01cd16caf500ebb">OptimizationAlgorithm</a> ()</td></tr>
<tr class="separator:a205013e0425b7bbae01cd16caf500ebb inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2516e3d66596ec9c9dfdd08d48e90f9 inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1OptimizationAlgorithm.html#af2516e3d66596ec9c9dfdd08d48e90f9">~OptimizationAlgorithm</a> ()</td></tr>
<tr class="separator:af2516e3d66596ec9c9dfdd08d48e90f9 inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61fe205d498ed3b0ac1f812a78c4b0f0 inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1OptimizationAlgorithm.html#a61fe205d498ed3b0ac1f812a78c4b0f0">printVerbose</a> (std::ostream &amp;os) const </td></tr>
<tr class="separator:a61fe205d498ed3b0ac1f812a78c4b0f0 inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1799d6aed633e94574072d26ed4cb4e inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classg2o_1_1SparseOptimizer.html">SparseOptimizer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1OptimizationAlgorithm.html#ae1799d6aed633e94574072d26ed4cb4e">optimizer</a> () const </td></tr>
<tr class="memdesc:ae1799d6aed633e94574072d26ed4cb4e inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the optimizer operating on  <a href="#ae1799d6aed633e94574072d26ed4cb4e">More...</a><br /></td></tr>
<tr class="separator:ae1799d6aed633e94574072d26ed4cb4e inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6ca7a2adbd25615be78316bc811a315 inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classg2o_1_1SparseOptimizer.html">SparseOptimizer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1OptimizationAlgorithm.html#ac6ca7a2adbd25615be78316bc811a315">optimizer</a> ()</td></tr>
<tr class="separator:ac6ca7a2adbd25615be78316bc811a315 inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff88a3dc8357c98712ff0047e601bd5e inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1OptimizationAlgorithm.html#aff88a3dc8357c98712ff0047e601bd5e">setOptimizer</a> (<a class="el" href="classg2o_1_1SparseOptimizer.html">SparseOptimizer</a> *<a class="el" href="classg2o_1_1OptimizationAlgorithm.html#ae1799d6aed633e94574072d26ed4cb4e">optimizer</a>)</td></tr>
<tr class="separator:aff88a3dc8357c98712ff0047e601bd5e inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e03513e64271df6420ca71bc7524e67 inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classg2o_1_1PropertyMap.html">PropertyMap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1OptimizationAlgorithm.html#a1e03513e64271df6420ca71bc7524e67">properties</a> () const </td></tr>
<tr class="memdesc:a1e03513e64271df6420ca71bc7524e67 inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the properties of the solver  <a href="#a1e03513e64271df6420ca71bc7524e67">More...</a><br /></td></tr>
<tr class="separator:a1e03513e64271df6420ca71bc7524e67 inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa05a6380f936c728a574c7c272bcc524 inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1OptimizationAlgorithm.html#aa05a6380f936c728a574c7c272bcc524">updatePropertiesFromString</a> (const std::string &amp;propString)</td></tr>
<tr class="separator:aa05a6380f936c728a574c7c272bcc524 inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad07be53fd879acfb919ca7d3ef73e97b inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1OptimizationAlgorithm.html#ad07be53fd879acfb919ca7d3ef73e97b">printProperties</a> (std::ostream &amp;os) const </td></tr>
<tr class="separator:ad07be53fd879acfb919ca7d3ef73e97b inherit pub_methods_classg2o_1_1OptimizationAlgorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aece740952a53ce8a71509847a146b959"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1StructureOnlySolver.html#aece740952a53ce8a71509847a146b959">_verbose</a></td></tr>
<tr class="separator:aece740952a53ce8a71509847a146b959"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69c7939aa09c96854d15c87450602560"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structg2o_1_1OptimizableGraph.html#a54f01b9b6071e65e6abeebe4afb29dec">OptimizableGraph::VertexContainer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1StructureOnlySolver.html#a69c7939aa09c96854d15c87450602560">_points</a></td></tr>
<tr class="separator:a69c7939aa09c96854d15c87450602560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classg2o_1_1OptimizationAlgorithm"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classg2o_1_1OptimizationAlgorithm')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classg2o_1_1OptimizationAlgorithm.html">g2o::OptimizationAlgorithm</a></td></tr>
<tr class="memitem:a6017c344be0d9f09d6674849849c6b60 inherit pro_attribs_classg2o_1_1OptimizationAlgorithm"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classg2o_1_1SparseOptimizer.html">SparseOptimizer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1OptimizationAlgorithm.html#a6017c344be0d9f09d6674849849c6b60">_optimizer</a></td></tr>
<tr class="memdesc:a6017c344be0d9f09d6674849849c6b60 inherit pro_attribs_classg2o_1_1OptimizationAlgorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">the optimizer the solver is working on  <a href="#a6017c344be0d9f09d6674849849c6b60">More...</a><br /></td></tr>
<tr class="separator:a6017c344be0d9f09d6674849849c6b60 inherit pro_attribs_classg2o_1_1OptimizationAlgorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae37b494f69b483a3fcafa944e987e325 inherit pro_attribs_classg2o_1_1OptimizationAlgorithm"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classg2o_1_1PropertyMap.html">PropertyMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classg2o_1_1OptimizationAlgorithm.html#ae37b494f69b483a3fcafa944e987e325">_properties</a></td></tr>
<tr class="memdesc:ae37b494f69b483a3fcafa944e987e325 inherit pro_attribs_classg2o_1_1OptimizationAlgorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">the properties of your solver, use this to store the parameters of your solver  <a href="#ae37b494f69b483a3fcafa944e987e325">More...</a><br /></td></tr>
<tr class="separator:ae37b494f69b483a3fcafa944e987e325 inherit pro_attribs_classg2o_1_1OptimizationAlgorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;int PointDoF&gt;<br />
class g2o::StructureOnlySolver&lt; PointDoF &gt;</h3>

<p>This is a solver for "structure-only" optimization". </p>
<p>Given the problem of landmark-based SLAM or bundle adjustment, this class performs optimization on the landmarks while the poses are kept fixed. This can be done very efficiently, since the position on the landmarks are indepdented given the poses are known.</p>
<p>This class slightly misuses the API of <a class="el" href="namespaceg2o.html">g2o</a>. It is designed in a way, it can work on the very same graph which reflects the problem of landmark-based SLAM, bundle adjustment and which is meant to be solved using the Schur complement. Thus, it can be called just before or after joint-optimization without the need of additional setup. Call <a class="el" href="classg2o_1_1StructureOnlySolver.html#a2bdda1a5fa2908b08796ac9dc86f2263">calc()</a> with the point features you want to optimize.</p>
<p>This class is still considered as being experimentally! </p>

<p>Definition at line <a class="el" href="structure__only__solver_8h_source.html#l00057">57</a> of file <a class="el" href="structure__only__solver_8h_source.html">structure_only_solver.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9a04e377a4604077e6c0fc77835f56ab"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int PointDoF&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classg2o_1_1StructureOnlySolver.html">g2o::StructureOnlySolver</a>&lt; PointDoF &gt;::<a class="el" href="classg2o_1_1StructureOnlySolver.html">StructureOnlySolver</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="structure__only__solver_8h_source.html#l00060">60</a> of file <a class="el" href="structure__only__solver_8h_source.html">structure_only_solver.h</a>.</p>

<p>References <a class="el" href="structure__only__solver_8h_source.html#l00218">g2o::StructureOnlySolver&lt; PointDoF &gt;::_verbose</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <a class="code" href="classg2o_1_1StructureOnlySolver.html#aece740952a53ce8a71509847a146b959">_verbose</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div><div class="ttc" id="classg2o_1_1StructureOnlySolver_html_aece740952a53ce8a71509847a146b959"><div class="ttname"><a href="classg2o_1_1StructureOnlySolver.html#aece740952a53ce8a71509847a146b959">g2o::StructureOnlySolver::_verbose</a></div><div class="ttdeci">bool _verbose</div><div class="ttdef"><b>Definition:</b> <a href="structure__only__solver_8h_source.html#l00218">structure_only_solver.h:218</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a2bdda1a5fa2908b08796ac9dc86f2263"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int PointDoF&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">OptimizationAlgorithm::SolverResult <a class="el" href="classg2o_1_1StructureOnlySolver.html">g2o::StructureOnlySolver</a>&lt; PointDoF &gt;::calc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structg2o_1_1OptimizableGraph.html#a54f01b9b6071e65e6abeebe4afb29dec">OptimizableGraph::VertexContainer</a> &amp;&#160;</td>
          <td class="paramname"><em>vertices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_iters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_max_trials</em> = <code>10</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="structure__only__solver_8h_source.html#l00072">72</a> of file <a class="el" href="structure__only__solver_8h_source.html">structure_only_solver.h</a>.</p>

<p>References <a class="el" href="jacobian__workspace_8cpp_source.html#l00046">g2o::JacobianWorkspace::allocate()</a>, <a class="el" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a84465a61c6d322f7d64833129cc7d55a">g2o::OptimizableGraph::Vertex::bData()</a>, <a class="el" href="classg2o_1_1OptimizableGraph_1_1Edge.html#a182bd2c109d50283c638d9b295f2f3d7">g2o::OptimizableGraph::Edge::chi2()</a>, <a class="el" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a803897f6bae25dece4d7e23330f0f9da">g2o::OptimizableGraph::Vertex::clearQuadraticForm()</a>, <a class="el" href="classg2o_1_1OptimizableGraph_1_1Edge.html#a1e6d9f4128866982de5e11e03edd7775">g2o::OptimizableGraph::Edge::computeError()</a>, <a class="el" href="classg2o_1_1OptimizableGraph_1_1Edge.html#a56fbf3430ddf591e3c619bdd1b7e4499">g2o::OptimizableGraph::Edge::constructQuadraticForm()</a>, <a class="el" href="optimizable__graph_8h_source.html#l00283">g2o::OptimizableGraph::Vertex::dimension()</a>, <a class="el" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a9509fb5c333988911312fc3d9187a9c3">g2o::OptimizableGraph::Vertex::discardTop()</a>, <a class="el" href="hyper__graph_8h_source.html#l00151">g2o::HyperGraph::Vertex::edges()</a>, <a class="el" href="optimizable__graph_8h_source.html#l00273">g2o::OptimizableGraph::Vertex::fixed()</a>, <a class="el" href="macros_8h_source.html#l00101">g2o_isfinite</a>, <a class="el" href="macros_8h_source.html#l00099">g2o_isnan</a>, <a class="el" href="classg2o_1_1OptimizableGraph_1_1Edge.html#a0fdad5ebfb4efec9f893b57f67e0fbe1">g2o::OptimizableGraph::Edge::linearizeOplus()</a>, <a class="el" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a1008c0f7981a9fb11be3e3df5c4a9758">g2o::OptimizableGraph::Vertex::mapHessianMemory()</a>, <a class="el" href="optimization__algorithm_8h_source.html#l00050">OK</a>, <a class="el" href="optimizable__graph_8h_source.html#l00259">g2o::OptimizableGraph::Vertex::oplus()</a>, <a class="el" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a3e36d925dbda1c574a285826ade5909a">g2o::OptimizableGraph::Vertex::pop()</a>, <a class="el" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#aa477ed33d30a01ed468f33bb2a2f2d9d">g2o::OptimizableGraph::Vertex::push()</a>, <a class="el" href="optimizable__graph_8h_source.html#l00275">g2o::OptimizableGraph::Vertex::setFixed()</a>, <a class="el" href="jacobian__workspace_8cpp_source.html#l00059">g2o::JacobianWorkspace::updateSize()</a>, <a class="el" href="hyper__graph_8h_source.html#l00186">g2o::HyperGraph::Edge::vertex()</a>, and <a class="el" href="hyper__graph_8h_source.html#l00178">g2o::HyperGraph::Edge::vertices()</a>.</p>

<p>Referenced by <a class="el" href="ba__demo_8cpp_source.html#l00081">main()</a>, and <a class="el" href="structure__only__solver_8h_source.html#l00065">g2o::StructureOnlySolver&lt; PointDoF &gt;::solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      JacobianWorkspace auxWorkspace;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      auxWorkspace.updateSize(2, 50);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      auxWorkspace.allocate();</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <span class="keywordflow">for</span> (OptimizableGraph::VertexContainer::iterator it_v=<a class="code" href="g2o__incremental_2protocol_8txt.html#a7194e46382dcf196c489c13d1be8288f">vertices</a>.begin(); it_v!=<a class="code" href="g2o__incremental_2protocol_8txt.html#a7194e46382dcf196c489c13d1be8288f">vertices</a>.end(); ++it_v) {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordtype">bool</span> stop = <span class="keyword">false</span>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <a class="code" href="classg2o_1_1OptimizableGraph_1_1Vertex.html">g2o::OptimizableGraph::Vertex</a>* v = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="structg2o_1_1OptimizableGraph.html#ae1bdcfc2f7a1b8977ba04a16b16f1eba">OptimizableGraph::Vertex</a>*<span class="keyword">&gt;</span>(*it_v);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        assert(v-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a1037b978fec531eaf860d0037b992079">dimension</a>() == PointDoF);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <a class="code" href="classg2o_1_1HyperGraph.html#a5e2970e236c0dcb4eff7c205d7b6b4ae">g2o::HyperGraph::EdgeSet</a>&amp; track = v-&gt;<a class="code" href="classg2o_1_1HyperGraph_1_1Vertex.html#a0805a5575511327262c89585f1953b8e">edges</a>();</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        assert(track.size()&gt;=2);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordtype">double</span> chi2 = 0;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="comment">// TODO make these parameters</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordtype">double</span> mu = 0.01;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordtype">double</span> nu = 2;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">for</span> (g2o::HyperGraph::EdgeSet::iterator it_t=track.begin(); it_t!=track.end(); ++it_t) {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;          <a class="code" href="classg2o_1_1OptimizableGraph_1_1Edge.html">g2o::OptimizableGraph::Edge</a>* e = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classg2o_1_1OptimizableGraph_1_1Edge.html">g2o::OptimizableGraph::Edge</a> *<span class="keyword">&gt;</span>(*it_t);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;          e-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Edge.html#a1e6d9f4128866982de5e11e03edd7775">computeError</a>();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;          chi2 += e-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Edge.html#a182bd2c109d50283c638d9b295f2f3d7">chi2</a>();</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        }</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">if</span> (v-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#ac83c34e6176f0cc5315ad7401a49efb3">fixed</a>() == <span class="keyword">false</span>) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;          Eigen::Matrix&lt;double, PointDoF, PointDoF, Eigen::ColMajor&gt; H_pp;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;          H_pp.resize(v-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a1037b978fec531eaf860d0037b992079">dimension</a>(), v-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a1037b978fec531eaf860d0037b992079">dimension</a>());</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;          v-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a1008c0f7981a9fb11be3e3df5c4a9758">mapHessianMemory</a>(H_pp.data());</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_g = 0; i_g &lt; num_iters; ++i_g) {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            H_pp.setZero();</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            v-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a803897f6bae25dece4d7e23330f0f9da">clearQuadraticForm</a>();</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <a class="code" href="classg2o_1_1HyperGraph.html#a5e2970e236c0dcb4eff7c205d7b6b4ae">g2o::HyperGraph::EdgeSet</a>&amp; track = v-&gt;<a class="code" href="classg2o_1_1HyperGraph_1_1Vertex.html#a0805a5575511327262c89585f1953b8e">edges</a>();</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            assert(track.size()&gt;=1);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">for</span> (g2o::HyperGraph::EdgeSet::iterator it_t=track.begin(); it_t!=track.end(); ++it_t) {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;              <a class="code" href="classg2o_1_1OptimizableGraph_1_1Edge.html">g2o::OptimizableGraph::Edge</a>* e = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classg2o_1_1OptimizableGraph_1_1Edge.html">g2o::OptimizableGraph::Edge</a> *<span class="keyword">&gt;</span>(*it_t);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;              <span class="comment">// fix all the other vertices and remember their fix value</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#ifdef WINDOWS</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;              std::vector&lt;bool&gt; remember_fix_status(e-&gt;<a class="code" href="classg2o_1_1HyperGraph_1_1Edge.html#a6410bb70a917b5407770ef1f1090b5f5">vertices</a>().size());</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;              <span class="keywordtype">bool</span> remember_fix_status[e-&gt;<a class="code" href="classg2o_1_1HyperGraph_1_1Edge.html#a6410bb70a917b5407770ef1f1090b5f5">vertices</a>().size()];</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;              <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> k = 0; k &lt; e-&gt;<a class="code" href="classg2o_1_1HyperGraph_1_1Edge.html#a6410bb70a917b5407770ef1f1090b5f5">vertices</a>().size(); ++k) {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <a class="code" href="structg2o_1_1OptimizableGraph.html#ae1bdcfc2f7a1b8977ba04a16b16f1eba">OptimizableGraph::Vertex</a>* otherV = <span class="keyword">static_cast&lt;</span><a class="code" href="structg2o_1_1OptimizableGraph.html#ae1bdcfc2f7a1b8977ba04a16b16f1eba">OptimizableGraph::Vertex</a>*<span class="keyword">&gt;</span>(e-&gt;<a class="code" href="classg2o_1_1HyperGraph_1_1Edge.html#aaec0b2c92c5496d0f0fea8f1abdc4311">vertex</a>(k));</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <span class="keywordflow">if</span> (otherV != v) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                  remember_fix_status[k] = otherV-&gt;fixed();</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                  otherV-&gt;setFixed(<span class="keyword">true</span>);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;              }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;              <span class="comment">// build the matrix</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;              e-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Edge.html#a1e6d9f4128866982de5e11e03edd7775">computeError</a>();</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;              e-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Edge.html#a0fdad5ebfb4efec9f893b57f67e0fbe1">linearizeOplus</a>(auxWorkspace);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;              e-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Edge.html#a56fbf3430ddf591e3c619bdd1b7e4499">constructQuadraticForm</a>();</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;              <span class="comment">// Restore frame&#39;s initial fixed() values</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;              <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> k = 0; k &lt; e-&gt;<a class="code" href="classg2o_1_1HyperGraph_1_1Edge.html#a6410bb70a917b5407770ef1f1090b5f5">vertices</a>().size(); ++k) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                <a class="code" href="structg2o_1_1OptimizableGraph.html#ae1bdcfc2f7a1b8977ba04a16b16f1eba">OptimizableGraph::Vertex</a>* otherV = <span class="keyword">static_cast&lt;</span><a class="code" href="classg2o_1_1OptimizableGraph_1_1Vertex.html">g2o::OptimizableGraph::Vertex</a>*<span class="keyword">&gt;</span>(e-&gt;<a class="code" href="classg2o_1_1HyperGraph_1_1Edge.html#aaec0b2c92c5496d0f0fea8f1abdc4311">vertex</a>(k));</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                <span class="keywordflow">if</span> (otherV != v) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                  otherV-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#af92ef49e1bcd6a8166afa151d367b905">setFixed</a>(remember_fix_status[k]);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;              }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            Eigen::Map&lt;Eigen::Matrix&lt;double,PointDoF,1,Eigen::ColMajor&gt; &gt; b(v-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a84465a61c6d322f7d64833129cc7d55a">bData</a>(), v-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a1037b978fec531eaf860d0037b992079">dimension</a>());</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordflow">if</span> (b.norm()&lt;0.001) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;              stop = <span class="keyword">true</span>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keywordtype">int</span> trial=0;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keywordflow">do</span> {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;              Eigen::Matrix&lt;double,PointDoF,PointDoF,Eigen::ColMajor&gt; H_pp_mu = H_pp;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;              H_pp_mu.diagonal().array() += mu;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;              Eigen::LDLT&lt;Eigen::Matrix&lt;double,PointDoF,PointDoF,Eigen::ColMajor&gt; &gt; chol_H_pp(H_pp_mu);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;              <span class="keywordtype">bool</span> goodStep = <span class="keyword">false</span>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;              <span class="keywordflow">if</span> (chol_H_pp.isPositive()) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                Eigen::Matrix&lt;double,PointDoF,1,Eigen::ColMajor&gt; delta_p = chol_H_pp.solve(b);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                v-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#aa477ed33d30a01ed468f33bb2a2f2d9d">push</a>();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                v-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#af4357b634cfd884cd2fa1abb05832ec8">oplus</a>(delta_p.data());</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                <span class="keywordtype">double</span> new_chi2 = 0.;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <span class="keywordflow">for</span> (g2o::HyperGraph::EdgeSet::iterator it_t=track.begin(); it_t!=track.end(); ++it_t) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                  <a class="code" href="classg2o_1_1OptimizableGraph_1_1Edge.html">g2o::OptimizableGraph::Edge</a>* e = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classg2o_1_1OptimizableGraph_1_1Edge.html">g2o::OptimizableGraph::Edge</a> *<span class="keyword">&gt;</span>(*it_t);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                  e-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Edge.html#a1e6d9f4128866982de5e11e03edd7775">computeError</a>();</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                  new_chi2 += e-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Edge.html#a182bd2c109d50283c638d9b295f2f3d7">chi2</a>();</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                assert(<a class="code" href="macros_8h.html#a6e68a96bd391c3e6f2d10325713c17f3">g2o_isnan</a>(new_chi2)==<span class="keyword">false</span> &amp;&amp; <span class="stringliteral">&quot;Chi is NaN&quot;</span>);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <span class="keywordtype">double</span> rho = (chi2 - new_chi2);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                <span class="keywordflow">if</span> (rho &gt; 0 &amp;&amp; <a class="code" href="macros_8h.html#a13ed8e2673f6ab9bf2fc6a9678dfc196">g2o_isfinite</a>(new_chi2)) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                  goodStep = <span class="keyword">true</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                  chi2 = new_chi2;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                  v-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a9509fb5c333988911312fc3d9187a9c3">discardTop</a>();</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                  goodStep = <span class="keyword">false</span>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                  v-&gt;<a class="code" href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a3e36d925dbda1c574a285826ade5909a">pop</a>();</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                }</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;              }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;              <span class="comment">// update the damping factor based on the result of the last increment</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;              <span class="keywordflow">if</span> (goodStep) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                mu *= 1./3.;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                nu = 2.;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                trial=0;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;              } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                mu *= nu;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                nu *= 2.;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                ++trial;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                <span class="keywordflow">if</span> (trial &gt;= num_max_trials) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                  stop=<span class="keyword">true</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;              }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            } <span class="keywordflow">while</span>(!stop);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="keywordflow">if</span> (stop)</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;          }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="optimization__algorithm_8h.html#a509f04652b5e1b2d2b9e6bc121a87e50">OK</a>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div><div class="ttc" id="classg2o_1_1HyperGraph_1_1Edge_html_aaec0b2c92c5496d0f0fea8f1abdc4311"><div class="ttname"><a href="classg2o_1_1HyperGraph_1_1Edge.html#aaec0b2c92c5496d0f0fea8f1abdc4311">g2o::HyperGraph::Edge::vertex</a></div><div class="ttdeci">const Vertex * vertex(size_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="hyper__graph_8h_source.html#l00186">hyper_graph.h:186</a></div></div>
<div class="ttc" id="classg2o_1_1OptimizableGraph_1_1Vertex_html_a9509fb5c333988911312fc3d9187a9c3"><div class="ttname"><a href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a9509fb5c333988911312fc3d9187a9c3">g2o::OptimizableGraph::Vertex::discardTop</a></div><div class="ttdeci">virtual void discardTop()=0</div><div class="ttdoc">pop the last element from the stack, without restoring the current estimate </div></div>
<div class="ttc" id="classg2o_1_1OptimizableGraph_1_1Edge_html_a182bd2c109d50283c638d9b295f2f3d7"><div class="ttname"><a href="classg2o_1_1OptimizableGraph_1_1Edge.html#a182bd2c109d50283c638d9b295f2f3d7">g2o::OptimizableGraph::Edge::chi2</a></div><div class="ttdeci">virtual double chi2() const =0</div><div class="ttdoc">computes the chi2 based on the cached error value, only valid after computeError has been called...</div></div>
<div class="ttc" id="classg2o_1_1OptimizableGraph_1_1Edge_html_a0fdad5ebfb4efec9f893b57f67e0fbe1"><div class="ttname"><a href="classg2o_1_1OptimizableGraph_1_1Edge.html#a0fdad5ebfb4efec9f893b57f67e0fbe1">g2o::OptimizableGraph::Edge::linearizeOplus</a></div><div class="ttdeci">virtual void linearizeOplus(JacobianWorkspace &amp;jacobianWorkspace)=0</div></div>
<div class="ttc" id="classg2o_1_1OptimizableGraph_1_1Vertex_html_af4357b634cfd884cd2fa1abb05832ec8"><div class="ttname"><a href="classg2o_1_1OptimizableGraph_1_1Vertex.html#af4357b634cfd884cd2fa1abb05832ec8">g2o::OptimizableGraph::Vertex::oplus</a></div><div class="ttdeci">void oplus(const double *v)</div><div class="ttdef"><b>Definition:</b> <a href="optimizable__graph_8h_source.html#l00259">optimizable_graph.h:259</a></div></div>
<div class="ttc" id="classg2o_1_1HyperGraph_html_a5e2970e236c0dcb4eff7c205d7b6b4ae"><div class="ttname"><a href="classg2o_1_1HyperGraph.html#a5e2970e236c0dcb4eff7c205d7b6b4ae">g2o::HyperGraph::EdgeSet</a></div><div class="ttdeci">std::set&lt; Edge * &gt; EdgeSet</div><div class="ttdef"><b>Definition:</b> <a href="hyper__graph_8h_source.html#l00135">hyper_graph.h:135</a></div></div>
<div class="ttc" id="classg2o_1_1OptimizableGraph_1_1Vertex_html_a1037b978fec531eaf860d0037b992079"><div class="ttname"><a href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a1037b978fec531eaf860d0037b992079">g2o::OptimizableGraph::Vertex::dimension</a></div><div class="ttdeci">int dimension() const </div><div class="ttdoc">dimension of the estimated state belonging to this node </div><div class="ttdef"><b>Definition:</b> <a href="optimizable__graph_8h_source.html#l00283">optimizable_graph.h:283</a></div></div>
<div class="ttc" id="g2o__incremental_2protocol_8txt_html_a7194e46382dcf196c489c13d1be8288f"><div class="ttname"><a href="g2o__incremental_2protocol_8txt.html#a7194e46382dcf196c489c13d1be8288f">vertices</a></div><div class="ttdeci">Protocol The SLAM executable accepts such as solving the and retrieving or vertices in the explicitly state the reprensentation poses are represented by poses by VERTEX_XYZRPY In the Quaternions and other representations could be but note that it is up to the SLAM algorithm to choose the internal representation of the angles The keyword is followed by a unique vertex ID and an optional initialization of the or edges in the explicitly state the type of the constraint pose constraints are given by pose constraints by EDGE_XYZRPY The keyword is followed by a unique edge the IDs of the referenced vertices</div><div class="ttdef"><b>Definition:</b> <a href="g2o__incremental_2protocol_8txt_source.html#l00007">protocol.txt:7</a></div></div>
<div class="ttc" id="structg2o_1_1OptimizableGraph_html_ae1bdcfc2f7a1b8977ba04a16b16f1eba"><div class="ttname"><a href="structg2o_1_1OptimizableGraph.html#ae1bdcfc2f7a1b8977ba04a16b16f1eba">g2o::OptimizableGraph::Vertex</a></div><div class="ttdeci">class G2O_CORE_API Vertex</div><div class="ttdef"><b>Definition:</b> <a href="optimizable__graph_8h_source.html#l00075">optimizable_graph.h:75</a></div></div>
<div class="ttc" id="classg2o_1_1HyperGraph_1_1Edge_html_a6410bb70a917b5407770ef1f1090b5f5"><div class="ttname"><a href="classg2o_1_1HyperGraph_1_1Edge.html#a6410bb70a917b5407770ef1f1090b5f5">g2o::HyperGraph::Edge::vertices</a></div><div class="ttdeci">const VertexContainer &amp; vertices() const </div><div class="ttdef"><b>Definition:</b> <a href="hyper__graph_8h_source.html#l00178">hyper_graph.h:178</a></div></div>
<div class="ttc" id="classg2o_1_1HyperGraph_1_1Vertex_html_a0805a5575511327262c89585f1953b8e"><div class="ttname"><a href="classg2o_1_1HyperGraph_1_1Vertex.html#a0805a5575511327262c89585f1953b8e">g2o::HyperGraph::Vertex::edges</a></div><div class="ttdeci">const EdgeSet &amp; edges() const </div><div class="ttdoc">returns the set of hyper-edges that are leaving/entering in this vertex </div><div class="ttdef"><b>Definition:</b> <a href="hyper__graph_8h_source.html#l00151">hyper_graph.h:151</a></div></div>
<div class="ttc" id="classg2o_1_1OptimizableGraph_1_1Edge_html_a56fbf3430ddf591e3c619bdd1b7e4499"><div class="ttname"><a href="classg2o_1_1OptimizableGraph_1_1Edge.html#a56fbf3430ddf591e3c619bdd1b7e4499">g2o::OptimizableGraph::Edge::constructQuadraticForm</a></div><div class="ttdeci">virtual void constructQuadraticForm()=0</div></div>
<div class="ttc" id="classg2o_1_1OptimizableGraph_1_1Vertex_html_a84465a61c6d322f7d64833129cc7d55a"><div class="ttname"><a href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a84465a61c6d322f7d64833129cc7d55a">g2o::OptimizableGraph::Vertex::bData</a></div><div class="ttdeci">virtual double * bData()=0</div><div class="ttdoc">return a pointer to the b vector associated with this vertex </div></div>
<div class="ttc" id="classg2o_1_1OptimizableGraph_1_1Edge_html_a1e6d9f4128866982de5e11e03edd7775"><div class="ttname"><a href="classg2o_1_1OptimizableGraph_1_1Edge.html#a1e6d9f4128866982de5e11e03edd7775">g2o::OptimizableGraph::Edge::computeError</a></div><div class="ttdeci">virtual void computeError()=0</div></div>
<div class="ttc" id="classg2o_1_1OptimizableGraph_1_1Vertex_html_aa477ed33d30a01ed468f33bb2a2f2d9d"><div class="ttname"><a href="classg2o_1_1OptimizableGraph_1_1Vertex.html#aa477ed33d30a01ed468f33bb2a2f2d9d">g2o::OptimizableGraph::Vertex::push</a></div><div class="ttdeci">virtual void push()=0</div><div class="ttdoc">backup the position of the vertex to a stack </div></div>
<div class="ttc" id="classg2o_1_1OptimizableGraph_1_1Vertex_html_a3e36d925dbda1c574a285826ade5909a"><div class="ttname"><a href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a3e36d925dbda1c574a285826ade5909a">g2o::OptimizableGraph::Vertex::pop</a></div><div class="ttdeci">virtual void pop()=0</div><div class="ttdoc">restore the position of the vertex by retrieving the position from the stack </div></div>
<div class="ttc" id="classg2o_1_1OptimizableGraph_1_1Vertex_html_a1008c0f7981a9fb11be3e3df5c4a9758"><div class="ttname"><a href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a1008c0f7981a9fb11be3e3df5c4a9758">g2o::OptimizableGraph::Vertex::mapHessianMemory</a></div><div class="ttdeci">virtual void mapHessianMemory(double *d)=0</div></div>
<div class="ttc" id="classg2o_1_1OptimizableGraph_1_1Vertex_html_a803897f6bae25dece4d7e23330f0f9da"><div class="ttname"><a href="classg2o_1_1OptimizableGraph_1_1Vertex.html#a803897f6bae25dece4d7e23330f0f9da">g2o::OptimizableGraph::Vertex::clearQuadraticForm</a></div><div class="ttdeci">virtual void clearQuadraticForm()=0</div></div>
<div class="ttc" id="classg2o_1_1OptimizableGraph_1_1Vertex_html"><div class="ttname"><a href="classg2o_1_1OptimizableGraph_1_1Vertex.html">g2o::OptimizableGraph::Vertex</a></div><div class="ttdoc">A general case Vertex for optimization. </div><div class="ttdef"><b>Definition:</b> <a href="optimizable__graph_8h_source.html#l00107">optimizable_graph.h:107</a></div></div>
<div class="ttc" id="macros_8h_html_a13ed8e2673f6ab9bf2fc6a9678dfc196"><div class="ttname"><a href="macros_8h.html#a13ed8e2673f6ab9bf2fc6a9678dfc196">g2o_isfinite</a></div><div class="ttdeci">#define g2o_isfinite(x)</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00101">macros.h:101</a></div></div>
<div class="ttc" id="macros_8h_html_a6e68a96bd391c3e6f2d10325713c17f3"><div class="ttname"><a href="macros_8h.html#a6e68a96bd391c3e6f2d10325713c17f3">g2o_isnan</a></div><div class="ttdeci">#define g2o_isnan(x)</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00099">macros.h:99</a></div></div>
<div class="ttc" id="classg2o_1_1OptimizableGraph_1_1Vertex_html_ac83c34e6176f0cc5315ad7401a49efb3"><div class="ttname"><a href="classg2o_1_1OptimizableGraph_1_1Vertex.html#ac83c34e6176f0cc5315ad7401a49efb3">g2o::OptimizableGraph::Vertex::fixed</a></div><div class="ttdeci">bool fixed() const </div><div class="ttdoc">true =&gt; this node is fixed during the optimization </div><div class="ttdef"><b>Definition:</b> <a href="optimizable__graph_8h_source.html#l00273">optimizable_graph.h:273</a></div></div>
<div class="ttc" id="classg2o_1_1OptimizableGraph_1_1Vertex_html_af92ef49e1bcd6a8166afa151d367b905"><div class="ttname"><a href="classg2o_1_1OptimizableGraph_1_1Vertex.html#af92ef49e1bcd6a8166afa151d367b905">g2o::OptimizableGraph::Vertex::setFixed</a></div><div class="ttdeci">void setFixed(bool fixed)</div><div class="ttdoc">true =&gt; this node should be considered fixed during the optimization </div><div class="ttdef"><b>Definition:</b> <a href="optimizable__graph_8h_source.html#l00275">optimizable_graph.h:275</a></div></div>
<div class="ttc" id="classg2o_1_1OptimizableGraph_1_1Edge_html"><div class="ttname"><a href="classg2o_1_1OptimizableGraph_1_1Edge.html">g2o::OptimizableGraph::Edge</a></div><div class="ttdef"><b>Definition:</b> <a href="optimizable__graph_8h_source.html#l00349">optimizable_graph.h:349</a></div></div>
<div class="ttc" id="optimization__algorithm_8h_html_a509f04652b5e1b2d2b9e6bc121a87e50"><div class="ttname"><a href="optimization__algorithm_8h.html#a509f04652b5e1b2d2b9e6bc121a87e50">OK</a></div><div class="ttdeci">OK</div><div class="ttdef"><b>Definition:</b> <a href="optimization__algorithm_8h_source.html#l00050">optimization_algorithm.h:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af2fc0359dbf70dfe7afe0f343b2b39ed"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int PointDoF&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classg2o_1_1StructureOnlySolver.html">g2o::StructureOnlySolver</a>&lt; PointDoF &gt;::computeMarginals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classg2o_1_1SparseBlockMatrix.html">SparseBlockMatrix</a>&lt; <a class="el" href="namespaceg2o.html#a8a808fe01b0b4e0afe637fe680853d0a">MatrixXD</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>spinv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; int, int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>blockIndices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>computes the block diagonal elements of the pattern specified in the input and stores them in given <a class="el" href="classg2o_1_1SparseBlockMatrix.html" title="Sparse matrix which uses blocks. ">SparseBlockMatrix</a>. If your solver does not support computing the marginals, return false. </p>

<p>Implements <a class="el" href="classg2o_1_1OptimizationAlgorithm.html#a7ed6d3cf71ab3001c6f25e3da3aad620">g2o::OptimizationAlgorithm</a>.</p>

<p>Definition at line <a class="el" href="structure__only__solver_8h_source.html#l00209">209</a> of file <a class="el" href="structure__only__solver_8h_source.html">structure_only_solver.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;{ <span class="keywordflow">return</span> <span class="keyword">false</span>;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a01a36cd184ecff673ea9b3486a4e785b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int PointDoF&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classg2o_1_1StructureOnlySolver.html">g2o::StructureOnlySolver</a>&lt; PointDoF &gt;::init </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>online</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>initialize the solver, called once before the first call to <a class="el" href="classg2o_1_1StructureOnlySolver.html#a4528f715dffa2f6e5ca399ccc6ebf5a9">solve()</a> </p>

<p>Implements <a class="el" href="classg2o_1_1OptimizationAlgorithm.html#af5b54ea6d40a8ab4c16d448ba02a0c80">g2o::OptimizationAlgorithm</a>.</p>

<p>Definition at line <a class="el" href="structure__only__solver_8h_source.html#l00196">196</a> of file <a class="el" href="structure__only__solver_8h_source.html">structure_only_solver.h</a>.</p>

<p>References <a class="el" href="structure__only__solver_8h_source.html#l00219">g2o::StructureOnlySolver&lt; PointDoF &gt;::_points</a>, <a class="el" href="sparse__optimizer_8h_source.html#l00194">g2o::SparseOptimizer::activeVertices()</a>, <a class="el" href="optimizable__graph_8h_source.html#l00278">g2o::OptimizableGraph::Vertex::marginalized()</a>, and <a class="el" href="optimization__algorithm_8h_source.html#l00085">g2o::OptimizationAlgorithm::optimizer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    { </div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="comment">// collect the vertices</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <a class="code" href="classg2o_1_1StructureOnlySolver.html#a69c7939aa09c96854d15c87450602560">_points</a>.clear();</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">for</span> (OptimizableGraph::VertexContainer::const_iterator it =  <a class="code" href="classg2o_1_1OptimizationAlgorithm.html#ae1799d6aed633e94574072d26ed4cb4e">optimizer</a>()-&gt;activeVertices().begin(); it != <a class="code" href="classg2o_1_1OptimizationAlgorithm.html#ae1799d6aed633e94574072d26ed4cb4e">optimizer</a>()-&gt;<a class="code" href="classg2o_1_1SparseOptimizer.html#a5715f0bab2cb9c1e8a330b2c3c217859">activeVertices</a>().end(); ++it) {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <a class="code" href="structg2o_1_1OptimizableGraph.html#ae1bdcfc2f7a1b8977ba04a16b16f1eba">OptimizableGraph::Vertex</a>* v = *it;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">if</span> (v-&gt;marginalized()) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;          <a class="code" href="classg2o_1_1StructureOnlySolver.html#a69c7939aa09c96854d15c87450602560">_points</a>.push_back(v);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    }</div><div class="ttc" id="classg2o_1_1OptimizationAlgorithm_html_ae1799d6aed633e94574072d26ed4cb4e"><div class="ttname"><a href="classg2o_1_1OptimizationAlgorithm.html#ae1799d6aed633e94574072d26ed4cb4e">g2o::OptimizationAlgorithm::optimizer</a></div><div class="ttdeci">const SparseOptimizer * optimizer() const </div><div class="ttdoc">return the optimizer operating on </div><div class="ttdef"><b>Definition:</b> <a href="optimization__algorithm_8h_source.html#l00085">optimization_algorithm.h:85</a></div></div>
<div class="ttc" id="structg2o_1_1OptimizableGraph_html_ae1bdcfc2f7a1b8977ba04a16b16f1eba"><div class="ttname"><a href="structg2o_1_1OptimizableGraph.html#ae1bdcfc2f7a1b8977ba04a16b16f1eba">g2o::OptimizableGraph::Vertex</a></div><div class="ttdeci">class G2O_CORE_API Vertex</div><div class="ttdef"><b>Definition:</b> <a href="optimizable__graph_8h_source.html#l00075">optimizable_graph.h:75</a></div></div>
<div class="ttc" id="classg2o_1_1SparseOptimizer_html_a5715f0bab2cb9c1e8a330b2c3c217859"><div class="ttname"><a href="classg2o_1_1SparseOptimizer.html#a5715f0bab2cb9c1e8a330b2c3c217859">g2o::SparseOptimizer::activeVertices</a></div><div class="ttdeci">const VertexContainer &amp; activeVertices() const </div><div class="ttdoc">the vertices active in the current optimization </div><div class="ttdef"><b>Definition:</b> <a href="sparse__optimizer_8h_source.html#l00194">sparse_optimizer.h:194</a></div></div>
<div class="ttc" id="classg2o_1_1StructureOnlySolver_html_a69c7939aa09c96854d15c87450602560"><div class="ttname"><a href="classg2o_1_1StructureOnlySolver.html#a69c7939aa09c96854d15c87450602560">g2o::StructureOnlySolver::_points</a></div><div class="ttdeci">OptimizableGraph::VertexContainer _points</div><div class="ttdef"><b>Definition:</b> <a href="structure__only__solver_8h_source.html#l00219">structure_only_solver.h:219</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a06b8b14c10df2396de9ee0bc8b44814e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int PointDoF&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structg2o_1_1OptimizableGraph.html#a54f01b9b6071e65e6abeebe4afb29dec">OptimizableGraph::VertexContainer</a>&amp; <a class="el" href="classg2o_1_1StructureOnlySolver.html">g2o::StructureOnlySolver</a>&lt; PointDoF &gt;::points </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return the points of the optimization problem </p>

<p>Definition at line <a class="el" href="structure__only__solver_8h_source.html#l00214">214</a> of file <a class="el" href="structure__only__solver_8h_source.html">structure_only_solver.h</a>.</p>

<p>References <a class="el" href="structure__only__solver_8h_source.html#l00219">g2o::StructureOnlySolver&lt; PointDoF &gt;::_points</a>.</p>
<div class="fragment"><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classg2o_1_1StructureOnlySolver.html#a69c7939aa09c96854d15c87450602560">_points</a>;}</div><div class="ttc" id="classg2o_1_1StructureOnlySolver_html_a69c7939aa09c96854d15c87450602560"><div class="ttname"><a href="classg2o_1_1StructureOnlySolver.html#a69c7939aa09c96854d15c87450602560">g2o::StructureOnlySolver::_points</a></div><div class="ttdeci">OptimizableGraph::VertexContainer _points</div><div class="ttdef"><b>Definition:</b> <a href="structure__only__solver_8h_source.html#l00219">structure_only_solver.h:219</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aadd3cfd56b6f6cf8ab54500a84dc395a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int PointDoF&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structg2o_1_1OptimizableGraph.html#a54f01b9b6071e65e6abeebe4afb29dec">OptimizableGraph::VertexContainer</a>&amp; <a class="el" href="classg2o_1_1StructureOnlySolver.html">g2o::StructureOnlySolver</a>&lt; PointDoF &gt;::points </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="structure__only__solver_8h_source.html#l00215">215</a> of file <a class="el" href="structure__only__solver_8h_source.html">structure_only_solver.h</a>.</p>

<p>References <a class="el" href="structure__only__solver_8h_source.html#l00219">g2o::StructureOnlySolver&lt; PointDoF &gt;::_points</a>.</p>
<div class="fragment"><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classg2o_1_1StructureOnlySolver.html#a69c7939aa09c96854d15c87450602560">_points</a>;}</div><div class="ttc" id="classg2o_1_1StructureOnlySolver_html_a69c7939aa09c96854d15c87450602560"><div class="ttname"><a href="classg2o_1_1StructureOnlySolver.html#a69c7939aa09c96854d15c87450602560">g2o::StructureOnlySolver::_points</a></div><div class="ttdeci">OptimizableGraph::VertexContainer _points</div><div class="ttdef"><b>Definition:</b> <a href="structure__only__solver_8h_source.html#l00219">structure_only_solver.h:219</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4528f715dffa2f6e5ca399ccc6ebf5a9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int PointDoF&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual OptimizationAlgorithm::SolverResult <a class="el" href="classg2o_1_1StructureOnlySolver.html">g2o::StructureOnlySolver</a>&lt; PointDoF &gt;::solve </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iteration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>online</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Solve one iteration. The <a class="el" href="classg2o_1_1SparseOptimizer.html">SparseOptimizer</a> running on-top will call this for the given number of iterations. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iteration</td><td>indicates the current iteration </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classg2o_1_1OptimizationAlgorithm.html#ab174deeeb2551ceaf715ea09f0f9c077">g2o::OptimizationAlgorithm</a>.</p>

<p>Definition at line <a class="el" href="structure__only__solver_8h_source.html#l00065">65</a> of file <a class="el" href="structure__only__solver_8h_source.html">structure_only_solver.h</a>.</p>

<p>References <a class="el" href="structure__only__solver_8h_source.html#l00219">g2o::StructureOnlySolver&lt; PointDoF &gt;::_points</a>, and <a class="el" href="structure__only__solver_8h_source.html#l00072">g2o::StructureOnlySolver&lt; PointDoF &gt;::calc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      (void) iteration;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      (void) online;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classg2o_1_1StructureOnlySolver.html#a2bdda1a5fa2908b08796ac9dc86f2263">calc</a>(<a class="code" href="classg2o_1_1StructureOnlySolver.html#a69c7939aa09c96854d15c87450602560">_points</a>, 1);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    }</div><div class="ttc" id="classg2o_1_1StructureOnlySolver_html_a69c7939aa09c96854d15c87450602560"><div class="ttname"><a href="classg2o_1_1StructureOnlySolver.html#a69c7939aa09c96854d15c87450602560">g2o::StructureOnlySolver::_points</a></div><div class="ttdeci">OptimizableGraph::VertexContainer _points</div><div class="ttdef"><b>Definition:</b> <a href="structure__only__solver_8h_source.html#l00219">structure_only_solver.h:219</a></div></div>
<div class="ttc" id="classg2o_1_1StructureOnlySolver_html_a2bdda1a5fa2908b08796ac9dc86f2263"><div class="ttname"><a href="classg2o_1_1StructureOnlySolver.html#a2bdda1a5fa2908b08796ac9dc86f2263">g2o::StructureOnlySolver::calc</a></div><div class="ttdeci">OptimizationAlgorithm::SolverResult calc(OptimizableGraph::VertexContainer &amp;vertices, int num_iters, int num_max_trials=10)</div><div class="ttdef"><b>Definition:</b> <a href="structure__only__solver_8h_source.html#l00072">structure_only_solver.h:72</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6a9a813d3c7dd9f07862df31aecaeeca"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int PointDoF&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classg2o_1_1StructureOnlySolver.html">g2o::StructureOnlySolver</a>&lt; PointDoF &gt;::updateStructure </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classg2o_1_1HyperGraph_1_1Vertex.html">HyperGraph::Vertex</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>vset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classg2o_1_1HyperGraph.html#a5e2970e236c0dcb4eff7c205d7b6b4ae">HyperGraph::EdgeSet</a> &amp;&#160;</td>
          <td class="paramname"><em>edges</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>update the structures for online processing </p>

<p>Implements <a class="el" href="classg2o_1_1OptimizationAlgorithm.html#a6b86c5d3c56a41c18f2aee611b62d71b">g2o::OptimizationAlgorithm</a>.</p>

<p>Definition at line <a class="el" href="structure__only__solver_8h_source.html#l00211">211</a> of file <a class="el" href="structure__only__solver_8h_source.html">structure_only_solver.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;{ <span class="keywordflow">return</span> <span class="keyword">true</span>;}</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a69c7939aa09c96854d15c87450602560"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int PointDoF&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structg2o_1_1OptimizableGraph.html#a54f01b9b6071e65e6abeebe4afb29dec">OptimizableGraph::VertexContainer</a> <a class="el" href="classg2o_1_1StructureOnlySolver.html">g2o::StructureOnlySolver</a>&lt; PointDoF &gt;::_points</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="structure__only__solver_8h_source.html#l00219">219</a> of file <a class="el" href="structure__only__solver_8h_source.html">structure_only_solver.h</a>.</p>

<p>Referenced by <a class="el" href="structure__only__solver_8h_source.html#l00196">g2o::StructureOnlySolver&lt; PointDoF &gt;::init()</a>, <a class="el" href="structure__only__solver_8h_source.html#l00214">g2o::StructureOnlySolver&lt; PointDoF &gt;::points()</a>, and <a class="el" href="structure__only__solver_8h_source.html#l00065">g2o::StructureOnlySolver&lt; PointDoF &gt;::solve()</a>.</p>

</div>
</div>
<a class="anchor" id="aece740952a53ce8a71509847a146b959"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int PointDoF&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classg2o_1_1StructureOnlySolver.html">g2o::StructureOnlySolver</a>&lt; PointDoF &gt;::_verbose</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="structure__only__solver_8h_source.html#l00218">218</a> of file <a class="el" href="structure__only__solver_8h_source.html">structure_only_solver.h</a>.</p>

<p>Referenced by <a class="el" href="structure__only__solver_8h_source.html#l00060">g2o::StructureOnlySolver&lt; PointDoF &gt;::StructureOnlySolver()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/xuezhisd/CLionProjects/g2o/g2o/solvers/structure_only/<a class="el" href="structure__only__solver_8h_source.html">structure_only_solver.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 18 2019 20:14:52 for g2o by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
